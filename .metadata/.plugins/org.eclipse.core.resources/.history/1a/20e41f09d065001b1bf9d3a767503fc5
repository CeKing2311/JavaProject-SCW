package com.ceking.crowd.mvc.config;

import org.springframework.security.config.annotation.web.builders.HttpSecurity;
import org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;
import org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;
import org.springframework.stereotype.Component;

@Component
@EnableWebSecurity	//启用web环境下权限控制功能
public class WebAppSecurityConfig extends WebSecurityConfigurerAdapter {
	
	@Override
	protected void configure(HttpSecurity security) throws Exception {
		
		security
			.authorizeRequests()							  //对请求授权
			.antMatchers("/admin/to/login.html").permitAll()  //登录页放行，无条件访问
			.antMatchers("/bootstrap/**").permitAll()         //登录页放行，无条件访问
			.antMatchers("/crowd/**").permitAll()             //登录页放行，无条件访问
			.antMatchers("/css/**").permitAll()               //登录页放行，无条件访问
			.antMatchers("/fonts/**").permitAll()             //登录页放行，无条件访问
			.antMatchers("/img/**").permitAll()               //登录页放行，无条件访问
			.antMatchers("/jquery/**").permitAll()            //登录页放行，无条件访问
			.antMatchers("/layer/**").permitAll()             //登录页放行，无条件访问
			.antMatchers("/script/**").permitAll()            //登录页放行，无条件访问
			.antMatchers("/ztree/**").permitAll()             //登录页放行，无条件访问
			.anyRequest()
			.authenticated();
		
	}
	
}
